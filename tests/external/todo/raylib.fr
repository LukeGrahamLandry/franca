/*
TODO: automate
TODO: avoid linker. just need to support -framework myself. 
      it works in franca, need to do it in c too. 
      hackily keep track of which header the symbol was in so it can be used as lib when importing in the exe.
TODO: first class support for using system headers instead of beeding to add all these defines manually for each program
TODO: do it on linux too. i can't test it until i figure out how to make xquartz+orb work. 
TODO: wasm but i loathe emscripten so that ain't gonna happen

note: i can't use PLATFORM_DESKTOP_GLFW on macos because part of it is written in objective c

cc \
-DPLATFORM_DESKTOP_RGFW -DGRAPHICS_API_OPENGL_33 \
-Isrc \
examples/core/core_2d_camera.c \
src/rcore.c src/rtext.c src/rtextures.c src/rshapes.c \
-framework OpenGL -framework Cocoa -framework IOKit -framework CoreAudio -framework CoreVideo\

// HACK
// rcore.c
#ifndef __clang__
// TODO: why don't i get these from ConditionalMacros.h?
#define CALLBACK_API(_type, _name)              _type ( * _name)
#define CALLBACK_API_C(_type, _name)            _type ( * _name)

#define __nan() (0.0/0.0)
#include "__builtin://float.h"  // apple's one just does #define FOO __FOO__
#define __FLOAT_H  // pretend already included apple's
#endif 
// ....
#undef RLGL_IMPLEMENTATION

franca examples/import_c/cc.fr \
-DPLATFORM_DESKTOP_RGFW -DGRAPHICS_API_OPENGL_33 \
-Isrc \
examples/core/core_2d_camera.c \
src/rcore.c src/rtext.c src/rtextures.c src/rshapes.c \
-I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include -D__arm64__ -D__APPLE__ -DTARGET_CPU_ARM64=1 -DMAC_OS_X_VERSION_MIN_REQUIRED=MAC_OS_X_VERSION_10_5 -D__LITTLE_ENDIAN__=1 -D__FIXMATH__ -D__FP__ -DSWIFT_SDK_OVERLAY_PTHREAD_EPOCH=0 -DSTBIR_NO_SIMD -D_Float16=float "-D__uint128_t= struct{ long _[2]; }" -D__asm=asm -DSINFL_NO_SIMD -D_POSIX_C_SOURCE=200809L -DCF_INLINE=inline -D__asm__=asm -DUC_INLINE=inline -DATS_UNAVAILABLE -DTARGET_OS_OSX=1 -DXPC_DEBUGGER_EXCL -D_Nonnull -DCV_EXPORT -D__BLOCKS__=1 -DTYPE_LONGLONG=1 -D_Nullable -DXPC_GIVES_REFERENCE -D__inline__=inline -D__FLOAT_H -c && cc a.out -lobjc -framework OpenGL -framework Cocoa -framework IOKit -framework CoreAudio -framework CoreVideo && ./a.out

franca examples/import_c/cc.fr -arch x86_64 \
-DPLATFORM_DESKTOP_RGFW -DGRAPHICS_API_OPENGL_33 \
-Isrc \
examples/core/core_2d_camera.c \
src/rcore.c src/rtext.c src/rtextures.c src/rshapes.c \
-I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include -D__x86_64__=1 -DSTBI_NO_SIMD -D__APPLE__ -DTARGET_CPU_X86_64=1 -DMAC_OS_X_VERSION_MIN_REQUIRED=MAC_OS_X_VERSION_10_5 -D__LITTLE_ENDIAN__=1 -D__FIXMATH__ -D__FP__ -DSWIFT_SDK_OVERLAY_PTHREAD_EPOCH=0 -DSTBIR_NO_SIMD -D_Float16=float "-D__uint128_t= struct{ long _[2]; }" -D__asm=asm -DSINFL_NO_SIMD -D_POSIX_C_SOURCE=200809L -DCF_INLINE=inline -D__asm__=asm -DUC_INLINE=inline -DATS_UNAVAILABLE -DTARGET_OS_OSX=1 -DXPC_DEBUGGER_EXCL -D_Nonnull -DCV_EXPORT -D__BLOCKS__=1 -DTYPE_LONGLONG=1 -D_Nullable -DXPC_GIVES_REFERENCE -D__inline__=inline -D__FLOAT_H -D_OS_OSBYTEORDERMACHINE_H -c -D__m128=int -D__m128i=int -D__m128d=int && cc a.out -lobjc -framework OpenGL -framework Cocoa -framework IOKit -framework CoreAudio -framework CoreVideo -target x86_64-apple-darwin && ./a.out

touch src/emmintrin.h

https://github.com/raysan5/raylib/archive/cfb81e4a0000b1ad1bd5726a697aaa66c82ba73d.tar.gz
51804465 c554e0e31cd9095331918114b560181f21c185f93742d19ea4efeaf32bc60e42

*/
