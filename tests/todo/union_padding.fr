// I probably want to define this as always printing zeroes. 
// This is the situation that made me put the explicit `_ := zeroed()` in the incremental.fr structs. 
main :: fn() void = {
    A :: @union(a: i64, b: Array(i64, 10));
    a: A = (b = zeroed(Array(i64, 10)));
    @println("%", a.b&.items());
    use_stack(50, a, a, a&);
    @println("%", a.b&.items());
    f(a&);
    @println("%", a.b&.items());
    
    use_stack :: fn(a: i64, b: A, c: A, d: *A) void #noinline = {
        @if(a <= 0) return();
        use_stack(a - 1, c, b, d);
        if a == 20 {
            f(d);
        };
    };
    f :: fn(a: *A) void #noinline = {
        a[] = (a = 0);
    };
}
