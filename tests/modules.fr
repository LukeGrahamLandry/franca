#module(fn a() = {
    @pub const N = 42;
    const M = 52;
});

#module(fn b() = {
    const X = 32;
});

fn main(canary: i64) i64 = {
    @import(this.a) const N;
    assert_eq(N, 42);
    
    // Note: doesnt fail if you dont try to call it because it doesnt bother compiling the function. 
    // TODO: add @used because that will be a problem for virtual functions.
    (fn() i64 = {
        @import(this.a) const M;
        M
    })()!assert_compile_error;
    
    
    
    
    canary
}
