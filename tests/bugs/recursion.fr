@test(aarch64)
fn main(canary: i64) i64 = {
    fn fib(n: i64) i64 = {
        (le(n, 1),
            fn() i64 = 1,
            fn() i64 = add(fib(n.sub(1)), fib(n.sub(2))),
        )!if
    }
    assert_eq(fib(5), 8);

    canary
}
