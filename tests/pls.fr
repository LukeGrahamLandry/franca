
// this works with `=> b()` instead of `b`
// it also works if you instantiate the bool one first. 
#test fn or_wrong_type() = {
    fn my_if($T: Type) void = {
        fn my_if(cond: bool, $then: @Fn() T, $else: @Fn() T) T = @if(cond, then(), else());
    }
    
    my_or :: fn(a: bool, $b: @Fn() bool) bool = {
        a.my_if(=> true, b)
    };
    
    ::my_if(i64);
    ::my_if(bool);
    
    my_or(true, => false);
}
