//! Like Kotlin and Swift, we have syntax sugar for trailing lambda arguments. 
//! An alternative to the backpassing syntax. 

@test(interp, aarch64)
fn main(canary: i64) i64 = {
    let cond = true;
    var a = 0;
    
    // Normal function call 
    if(cond, fn() Unit = {
        a = a.add(1);
    });
    assert_eq(a, 1);
    
    // Call with trailing lambda. 
    if(cond) {|
        a = a.add(1);
    };
    assert_eq(a, 2);
    
    // Dot call with trailing lambda. 
    cond.if {|
        a = a.add(1);
    };
    assert_eq(a, 3);
    
    canary
}