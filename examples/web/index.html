<!doctype html>
<html style="height: 100%">
    <head>
        <style>
            html {
                color-scheme: dark;
            }
            body {
                height: 100%; 
                overflow: hidden;
            }
            .have_pipe {
                width: 48%;
                height: 90%;
                display: inline-block;
            }
            .pipe {
                width: 100%;
                height: 100%;
                outline: none;
                border: none;
                font-family: monospace;
                white-space: pre;
            }
            #sidebar {
                position: absolute;
                top: 0;
                left: 0;
                bottom: 0;
                width: 10%;
                text-align: center;
            }
    
            #text {
                position: absolute;
                top: 0;
                right: 0;
                bottom: 0;
                height: 100%;
                width: 90%;
            }
            
            canvas:focus {
                outline: none;
            }
            canvas {
                border: none;
            }
        </style>
    </head>
    <body>
        <div id="sidebar">
            <a href="https://git.sr.ht/~lukegrahamlandry/franca" target="_blank">sr.ht</a><br/>
            <a href="https://github.com/LukeGrahamLandry/franca" target="_blank">Github</a><br/><br/>
            <button id="btn"></button> <br/><br/>
            <select id="compiler" style="width: 90%;"></select><br/><br/>
            <select id="example" style="width: 90%;"></select><br/><br/>
            <select id="target" style="width: 90%;"></select><br/>
            <input id="dbg" type="text" style="width: 90%; font-size: 0.7rem;" placeholder="PMNCFAILSRpDGBtda">
            <br/><details>
                <summary></summary>
                <button id="all">Test All</button>
                <br><button onclick="navigator.clipboard.writeText(document.getElementById('out').value);">Copy Output</button>
                <br><input type="checkbox" id="togglecanvas"> Enable Canvas
            </details>
            <br/><b id="err"></b>
            <b id="stale" hidden style="color: red;"> OUTPUT IS STALE </b>
            <br/><b style="font-size: 0.75rem; padding: 0;">
                disclaimer: wasm support is wip. 
                many of my example programs work on native targets but not web (or not in all browsers). 
                expect mysterious crashes here 
            </b>
            <div style="bottom: 10px; position: absolute; font-size: 0.4rem;" id="wisdom"></div>
        </div>
        <div id="text">
            <div id="time">Downloading programs...</div>
            <div class="have_pipe">
                <textarea class="pipe" id="in" spellcheck="false" autocomplete="off" autocapitalize="off" autocorrect="off"></textarea>
            </div>
            <div class="have_pipe">
                <canvas id="canvas" hidden="true" tabIndex="1"></canvas>
                <textarea class="pipe" id="out" spellcheck="false" autocomplete="off" autocapitalize="off" autocorrect="off"></textarea>
            </div>
            github/LukeGrahamLandry/franca <b id="version"></b>
        </div>
        <script src="main.js" type="module"></script>
    </body>
</html>
