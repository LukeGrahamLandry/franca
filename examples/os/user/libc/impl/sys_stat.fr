
open :: fn(path: CStr, flags: i64) i64 = {
    r := Posix'openat(Posix'AT'FDCWD(), path, flags, 0);
    @if(r&.is_err()) return(-r.Err._.abs());
    r.Ok.fd.intcast()
}
