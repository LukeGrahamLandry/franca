main :: fn() = {
    foo :: fn() void #noinline = ();
    F :: @FnPtr() void;
    a :: @static(F) foo;
    b :: @static(*F) a;
    f: F = foo;
    @println("base= %", int_from_rawptr(@import_symbol "__franca_base_address"));
    @println("f   = % // code", ptr_cast_unchecked(@type f, i64, f&)[]);
    @println("foo = % // code", ::@as(rawptr) foo);  // TODO: this used to work without the extra '::'
    @println(":a[ = % // code", ::ptr_cast_unchecked(@type f, rawptr, a)[]);
    cd := ptr_cast_unchecked(@type a[], i64, a)[];
    @println("a[] = % // code in data", cd);
    @println("a   = % // data", int_from_ptr(@type a[], a));
    dd := ptr_cast_unchecked(@type b[], i64, b)[];
    @println("b[] = % // data in data", dd);
    @println("b   = % // data", int_from_ptr(@type b[], b));
    foo();
    
    assert(dd != 0 && cd != 0, "failed relocations");
}
