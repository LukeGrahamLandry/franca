
main :: fn() void = {
    println("this does 8 byte cas on 4 byte aligned addresses\non m1 it sigbus only when %16=12");
    x := zeroed Array(u32, 17);
    x := x&.items();
    x := x.slice(0, x.len - 1);
    enumerate x& { i, it |
        it := bit_cast_unchecked(*u32, *i64, it);
        @println("[%] % \% 16 = %", i, fmt_hex(it), i64.int_from_ptr(it).umod(16));
        i64.cas(it, 0, 1);
    };
};
